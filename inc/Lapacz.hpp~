#include "thread.hpp"
#include "opencv2/opencv.hpp"
#include "opencv2/highgui/highgui.hpp"
#include <iostream>

#ifndef LAPACZ
#define LAPACZ

using namespace cv;

class Lapacz{
  cv::Mat klL;
  cv::Mat klR;
  boost::mutex *mut;
  boost::thread* wat;

  class Kamery{
    cv::VideoCapture kamL;
    cv::VideoCapture kamR;
    cv::Mat klL;
    cv::Mat klR;
    boost::mutex *mut;
  public:
    Kamery(){ 
      mut=NULL;
    }
    Kamery(int nrL,int nrP,
	   cv::Mat &matL,cv::Mat &matP,
	   boost::mutex *mtx);
    void  operator()();
  };

  Kamery kams;
public:
  Lapacz(int nrL,int nrR);
  ~Lapacz();
  void stopKlatka(cv::Mat& lewa,cv::Mat& prawa);
};

#endif
